<form [formGroup]="expForm" (ngSubmit)="onSubmit()">
  <div class="col-8">
    <div formArrayName="experience">
      <div class="row" style="margin-bottom: 5%">
        <div class="col-2">
          <button mat-raised-button class="lavButton" type="button" (click)="addAExperience()">Add an Experience</button>
        </div>
      </div>

      <div *ngFor="let expGroup of expForm.get('experience').controls; let i = index">
        <div [formGroupName]="i">

          <div class="card">
            <div class="card-body">
              <div class="row">
                <div class="col-12">
                  <mat-form-field style="width: 100%">
                    <input matInput type="text" placeholder="Company Name and Address" formControlName="companyName">
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-6">
                  <mat-form-field style="width: 100%">
                    <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="picker" formControlName="joiningDate" placeholder="Date of Joining">
                    <mat-datepicker-toggle matSuffix [for]="pickerJoining"></mat-datepicker-toggle>
                    <mat-datepicker #pickerJoining></mat-datepicker>
                  </mat-form-field>
                </div>
                <div class="col-6">
                  <mat-form-field style="width: 100%">
                    <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="picker" formControlName="leavingDate" placeholder="Date of Leaving">
                    <mat-datepicker-toggle matSuffix [for]="pickerLeaving"></mat-datepicker-toggle>
                    <mat-datepicker #pickerLeaving></mat-datepicker>
                  </mat-form-field>
                </div>
              </div>

              <div class="row">
                <div class="col-6">
                  <mat-form-field style="width: 100%">
                    <input matInput type="text" placeholder="Designation" formControlName="designation">
                  </mat-form-field>
                </div>
              </div>

              <div class="row">
                <div class="col-12">
                  <mat-form-field style="width: 100%">
                    <textarea matInput formControlName="jobDescription" placeholder="Job Description" rows="2"></textarea>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <mat-form-field style="width: 100%">
                    <textarea matInput formControlName="projectDesc" placeholder="Projects Description" rows="2"></textarea>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <mat-form-field style="width: 100%">
                    <textarea matInput formControlName="reasonForLeaving" placeholder="Reason for Leaving" rows="2"></textarea>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <button mat-raised-button color="warn" type="button" (click)="deleteAExperience(i)" style="margin-bottom: 5%">Delete</button>

        </div>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <button mat-raised-button class="lavButton">Submit</button>
      </div>
    </div>
  </div>
</form>
